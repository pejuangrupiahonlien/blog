<html>
  <head>
  <meta charset='utf-8' />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
   <meta name="google-site-verification" content="waUDSjqvCpWUCH0SFKXV_9tMVR9bPjg1xtftoeL8Xzs-W5hMwc-79is">
  <meta name="Komentar Link dan Url Blog" content="Komentar Link dan Url Blog"/>
  <meta name="Komentar Link dan Url Blog" content="Komentar Link dan Url Blog"/>  
    <meta content='index, follow, all' name='robots'/>
<meta content='INDEX, FOLLOW' name='GOOGLEBOT'/>
<meta content='Komentar Link dan Url Blog' name='googlebot'/>
<meta content='all' name='msnbot'/>
<meta content='all' name='Googlebot-Image'/>
<meta Content='snippet' name='googlebot'/>
<meta content='xxxxxxxxx' property='fb:app_id'/> 
<meta content='xxxxxxxxx' property='fb:admins'/>
<meta content='Indonesia' name='geo.placename'/>
<meta content='id' name='geo.country'/>
<meta content='id-us-en' name='language'/>
<meta content='1 days' name='revisit-after'/>
<meta content='en_US' property='og:locale'/>
<meta content='en_GB' property='og:locale:alternate'/>
<meta content='id_ID' property='og:locale:alternate'/>
<meta content='general' name='rating'/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
   
    <title>Baclink Free</title>
    <link href="main.css" rel="stylesheet" type="text/css"/>
    <style></style>
  </head>
  
  

    <script src="jquery.js"></script>
    <script>
  let member;
let comment_message;
let comment_boxes = document.getElementById("comment-boxes");
var wrapper = document.createElement('div');


function store_btn_click(){
if(typeof(Storage) !== "undefined") {
        if (localStorage.clickcount) {
            localStorage.clickcount = Number(localStorage.clickcount)+1;
        }else{
            localStorage.clickcount = 1;
        }
    }
}


function signup_member_count(){
    if(typeof(Storage) !== "undefined") {
        if (localStorage.signupcount) {
            localStorage.signupcount = Number(localStorage.signupcount)+1;
        }else{
            localStorage.signupcount = 1;
        }
    }
}
    


function last_login_member(member){
    localStorage.setItem('last_login_member', member);
}


//********************************* showing side navbar and side closing navbar *****************************//    

function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
  }
  
  function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
  }


function show_div(){    
 
//*********************************   showing save comments *****************************//    
    if(localStorage != null){
        for(var i=1, len=localStorage.length; i<=len; i++) {
            for(var j=1, len=localStorage.length; j<=len; j++) {
                var key = localStorage.key(j-1);
                var value = localStorage[key];
                if(key == `div ${i}`){
                    var d1 = document.getElementById('comment-boxes');
                    d1.insertAdjacentHTML('beforeend', value);
                }
            }
        }
    }
        if(localStorage != null){
            for(var i=1, len=localStorage.length; i<=len; i++) {
                for(var j=1, len=localStorage.length; j<=len; j++) {
                    var key = localStorage.key(j-1);
                    var value = localStorage[key];
                    if(key.substring(0,2) == `${i}r`){
                        var r1 = document.getElementsByClassName('comment-box-class')[`${i}`];
                        r1.insertAdjacentHTML('afterend', value);    
                    }
                }
            }
    
       
//*********************************   showing login member name on top-right corner *****************************//    
    if(localStorage['last_login_member'] != null)
        document.getElementById('fetch-username-after-login').innerHTML = localStorage['last_login_member'];
    }

//*********************************   showing likes and dislikes after reload*****************************//    
    for( let m = 1; m<=localStorage.clickcount; m++){
            document.getElementById(m).innerHTML = localStorage[`like ${m}`];
            if(localStorage[`like ${m}`] != 0){
                document.getElementById(m).style.color = 'black';
            }
            document.getElementById(`d${m}`).innerHTML = localStorage[`dislike ${m}`];
            if(localStorage[`dislike ${m}`] != 0){
                document.getElementById(`d${m}`).style.color = 'black';
            }
        }

   if(localStorage != null){
        for(let z = 1; z<=localStorage.clickcount;z++ ){
            let y = Number(localStorage[`year ${z}`]);
            let m = Number(localStorage[`month ${z}`]);
            let d = Number(localStorage[`day ${z}`]);
            let h = Number(localStorage[`hour ${z}`]);
            let min = Number(localStorage[`min ${z}`]);
            let s = Number(localStorage[`sec ${z}`]);
            let mil = Number(localStorage[`mili ${z}`]);
            let current= new Date();
            document.getElementsByClassName('time_ago')[z].innerHTML = timeDifference(current,new Date(y,m,d,h,min,s,mil));    
            document.getElementsByClassName('posted_ago')[z].innerHTML = `${d}/${m+1}/${y}`;        
        }    
   }

/*****************************  showing navbar ---->  signup login signout *******************/

if(document.getElementById('fetch-username-after-login').innerHTML == 'Guest'){
    document.getElementById('a_signup').style.display='block';
    document.getElementById('a_login').style.display='block';        
}else{
    document.getElementById('a_signout').style.display='block';
}

   
}

function like(like_id){
    if(localStorage['last_login_member'] != 'Guest'){
        for(let k =1; k<= localStorage.clickcount; k++){
            if(like_id == k ){
                let found;
                let searching_name = `like${like_id} ${localStorage['last_login_member']}`;
                for(let v=0; v<localStorage.length; v++){
                    if(localStorage.key(v) == searching_name){
                        found = 1; 
                    }else{
                        continue;
                    }
                }
                if(found == 1){
                    alert('you liked it already');
                }else{
                    localStorage.setItem(searching_name,searching_name);
                    document.getElementById(k).style.color = 'black';
                    if(localStorage[`dislike ${k}`] != 0 ){
                        for(let y = 0; y<localStorage.length; y++){
                            if(localStorage.key(y) == `dislike${k} ${localStorage['last_login_member']}`){
                                localStorage.removeItem(`dislike${k} ${localStorage['last_login_member']}`);
                            }
                        }
                    }
                   
                    let like_count = 0;
                    for(let f = 0; f<localStorage.length; f++){
                        if(localStorage.key(f).substring(0,5) == `like${k}`){
                            like_count += 1;
                        }
                    }
                    localStorage[`like ${k}`] = like_count;
                    document.getElementById(like_id).innerHTML = localStorage[`like ${k}`];
                   
                    let dislike_count = 0;
                    for(let f = 0; f<localStorage.length; f++){
                        if(localStorage.key(f).substring(0,8) == `dislike${k}`){
                            dislike_count += 1;
                        }
                    }
                    localStorage[`dislike ${k}`] = dislike_count;
                    document.getElementById(`d${k}`).innerHTML = localStorage[`dislike ${k}`];
                }
            } 
        }
    }else{
        alert('please login to like');
    }
}


function dislike(dislike_id){
    if(localStorage['last_login_member'] != 'Guest'){
        for(let z =1; z<= localStorage.clickcount; z++){
            if(dislike_id == `d${z}` ){
                let found;
                let searching_name = `dislike${z} ${localStorage['last_login_member']}`;
                for(let v=0; v<localStorage.length; v++){
                    if(localStorage.key(v) == searching_name){
                        found = 1; 
                    }else{
                        continue;
                    }
                }
                if(found == 1){
                    alert('you disliked it already');
                }else{
                    localStorage.setItem(searching_name,searching_name); 
                    document.getElementById(`d${z}`).style.color = 'black';
                    if(localStorage[`like ${z}`] != 0 ){
                        for(let y = 0; y<localStorage.length; y++){
                            if(localStorage.key(y) == `like${z} ${localStorage['last_login_member']}`){
                                localStorage.removeItem(`like${z} ${localStorage['last_login_member']}`);
                            }
                        }
                    }
                   
                    let dislike_count = 0;
                    for(let f = 0; f<localStorage.length; f++){
                        if(localStorage.key(f).substring(0,8) == `dislike${z}`){
                            console.log(`dislike-dislike mila`);
                            dislike_count += 1;
                        }
                    }
                    localStorage[`dislike ${z}`] = dislike_count;
                    document.getElementById(dislike_id).innerHTML = localStorage[`dislike ${z}`];
                   
                    let like_count = 0;
                    for(let f = 0; f<localStorage.length; f++){
                        if(localStorage.key(f).substring(0,5) == `like${z}`){
                            like_count += 1;
                        }
                    }
                    localStorage[`like ${z}`] = like_count;
                    document.getElementById(z).innerHTML = localStorage[`like ${z}`];
                }
                   
            }
        }
    }else{
        alert('please login to dislike');
    }
    
}



function writeAcomment(){
    if(localStorage['loggedin'] == 1){
        document.getElementById('fetch-username-after-login').innerHTML = localStorage['last_login_member'];
        document.getElementById('message-box-popup').style.display='block';
    }else{
        alert('you are not logged in login first');
        document.getElementById('modal-wrapper').style.display='block'; 
    }
}

function signout(){
    localStorage.setItem('loggedin', 0);
    localStorage.setItem('last_login_member', 'Guest');
    document.getElementById('fetch-username-after-login').innerHTML = localStorage['last_login_member'];
    location.reload();
}



function isuserloggedin(){
    if(localStorage['loggedin'] == 1){
        document.getElementById('fetch-username-after-login').innerHTML = localStorage['last_login_member'];
        document.getElementById('message-box-popup').style.display='block';
        document.getElementById('a_signup').style.display='none';
        document.getElementById('a_login').style.display='none';
        document.getElementById('a_signout').style.display='block';
    }
}

function canuserreply(){
    if(localStorage['last_login_member'] == 'Guest'){
        alert('please login');
    }else{
        document.getElementById('message-box-popup').style.display='block';
    }
}


function login(){
let usr_found = 0;
//if login's username and password matches then login
let login_usr = document.getElementById('log-usr').value;
let login_psw = document.getElementById('log-psw').value;
    for(let p = 1; p<=localStorage.length; p++){
        // if(signup_username.indexOf(log_usr) > -1 && signup_password.indexOf(log_psw) > -1 ){ //that was blunder!  ---> arrayname.indexOf('string to be searched in array') ---> it checks if string exists or not if yes then retuen 0 else -1 
        console.log(localStorage[`signup usr ${p-1}`]); 
        if(login_usr == localStorage[`signup usr ${p-1}`] && login_psw == localStorage[`signup psw ${p-1}`]){
            localStorage['last_login_member'] = localStorage[`signup usr ${p-1}`];
            document.getElementById('modal-wrapper').style.display='none';
            document.getElementById('fetch-username-after-login').innerHTML = localStorage['last_login_member'];
            // enter message in message box //
            usr_found = 1;
            localStorage.setItem('loggedin', 1);
            isuserloggedin();
        }else{
            continue;
        }
    }
    if(usr_found != 1){
        alert('user not found please signup first');
        document.getElementById('modal-wrapper').style.display='none';
        document.getElementById('modal-wrapper-2').style.display='block'; 
    }
}

function signup(){ 
    signup_member_count();

    let signup_username = document.getElementById('sign-usr').value;
    let signup_pass = document.getElementById('sign-psw').value;

    localStorage.setItem(`signup usr ${localStorage.signupcount}`, signup_username);
    localStorage.setItem(`signup psw ${localStorage.signupcount}`, signup_pass);
    document.getElementById('modal-wrapper-2').style.display='none';
    
    localStorage.setItem('loggedin', 1);

    localStorage.setItem('last_login_member', signup_username);

    isuserloggedin();
}

function Add_comment(comment_number){

    /////********************************** Storing add btn clicks ****************************////////
    store_btn_click();
    /////////********************************************************************/////////////////
    comment_message = document.getElementById("message-box-comments").value;
 
    document.getElementById('message-box-popup').style.display='none';
    console.log(comment_message);

    /////********************************** clone sample div  ****************************////////
    
    let clone =  document.getElementsByClassName("comment-box-class")[0];
    clone = clone.outerHTML;

    // comment_boxes.appendChild(clone);
    var c1 = document.getElementById('comment-boxes');
    c1.insertAdjacentHTML('beforeend', `${clone}`);

    /////********************************** changing comment-username-after-login  ****************************////////
    let comment_name_class = document.getElementsByClassName("comment-name-class")[localStorage.clickcount]
    comment_name_class.innerHTML = localStorage['last_login_member'];


    /////********************************** changing comment-message-after-login  ****************************////////
    let comment_message_class = document.getElementsByClassName("row2")[localStorage.clickcount]
    comment_message_class.innerHTML = comment_message;


    /////********************************** changing reply ---> id  ****************************////////
    let comment_reply_id = document.getElementsByClassName("r")[localStorage.clickcount]
    comment_reply_id.id = localStorage.clickcount + 'r';

    /////********************************** create variables for like an    1d dislike  ****************************////////
    document.getElementsByClassName('fetch-like-count')[localStorage.clickcount].id = localStorage.clickcount;
    document.getElementsByClassName('fetch-dislike-count')[localStorage.clickcount].id = 'd' + localStorage.clickcount;


    /////********************************** saving member name in localStorage  ****************************////////
    // last_login_member(member);


    /////********************************** create storage for time  ****************************////////
    var today = new Date();
    localStorage.setItem(`year ${localStorage.clickcount}`,Number(today.getFullYear()));
    localStorage.setItem(`month ${localStorage.clickcount}`,Number(today.getMonth()));
    localStorage.setItem(`day ${localStorage.clickcount}`,Number(today.getDate()));
    localStorage.setItem(`hour ${localStorage.clickcount}`,Number(today.getHours()));
    localStorage.setItem(`min ${localStorage.clickcount}`,Number(today.getMinutes()));
    localStorage.setItem(`sec ${localStorage.clickcount}`,Number(today.getSeconds()));
    localStorage.setItem(`mili ${localStorage.clickcount}`,Number(today.getMilliseconds()));

    /////********************************** saving the shit differently  ****************************////////
    d = document.getElementsByClassName("comment-box-class")[localStorage.clickcount];
    
    if(localStorage[`Reply_clicked`] == 1){
        d.style="margin-left: 6em;position: relative;";
        localStorage.setItem(`${localStorage[`which_reply_clicked`].substring(0,1)}r div ${localStorage.clickcount}`,`${d.outerHTML}`);
        localStorage.setItem(`Reply_clicked`,0);
    }else{
        localStorage.setItem(`div ${localStorage.clickcount}`,`${d.outerHTML}`);
    }


    /////********************************** like and dislike ****************************////////
    localStorage.setItem(`like ${localStorage.clickcount}`, 0);
    localStorage.setItem(`dislike ${localStorage.clickcount}`, 0);


    /////********************************** reload page  ****************************////////    
    location.reload();
}

function reply_clicked(comment_box_id){
    localStorage.setItem(`Reply_clicked`,1);
    localStorage.setItem(`which_reply_clicked`,comment_box_id);
}

/////********************************** timestamps like ---->  2 min ago, 1 month ago   ****************************////////    

function timeDifference(current, previous) {
    
    var msPerMinute = 60 * 1000;
    var msPerHour = msPerMinute * 60;
    var msPerDay = msPerHour * 24;
    var msPerMonth = msPerDay * 30;
    var msPerYear = msPerDay * 365;
    
    var elapsed = current - previous;
    
    if (elapsed < msPerMinute) {
         return Math.round(elapsed/1000) + ' seconds ago';   
    }
    
    else if (elapsed < msPerHour) {
         return Math.round(elapsed/msPerMinute) + ' minutes ago';   
    }
    
    else if (elapsed < msPerDay ) {
         return Math.round(elapsed/msPerHour ) + ' hours ago';   
    }

    else if (elapsed < msPerMonth) {
         return Math.round(elapsed/msPerDay) + ' days ago';   
    }
    
    else if (elapsed < msPerYear) {
         return Math.round(elapsed/msPerMonth) + ' months ago';   
    }
    
    else {
         return Math.round(elapsed/msPerYear ) + ' years ago';   
    }
}
  </script> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- fevicon -->
    <link rel="icon" href="src/img/chat.svg" type="image/gif" sizes="16x16">
  

<body onload="show_div();">

<!----------------------------------------- Heading --------------------------------->

    <header class="header">
 
   
    <div class="corner-menu">
        <div  class="login-div">
            <img style="background-color:rgb(201, 215, 245);border-radius:50%;" class="img" src="https://1.bp.blogspot.com/-XW2Toz8561E/X_m3qSI7-qI/AAAAAAAAOP8/--SEUMJs_8YS_ETm808aCSVtanJrFrs4ACLcBGAsYHQ/s0/favicon.ico" alt="photo">
            <p style="font-size:15px;margin-right:5px;font-family: 'Roboto Mono', monospace;" id="fetch-username-after-login">Guest</p>
        </div>
        <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a id="a_signup" style="display:none;" onclick="closeNav();document.getElementById('modal-wrapper-2').style.display='block';">Signup</a>
            <a id="a_login" style="display:none;" onclick="closeNav();document.getElementById('modal-wrapper').style.display='block';">Login</a>
            <a id="a_signout" style="display:none;" onclick="closeNav();signout();">SignOut</a>
            <a id="a_reset" onclick="localStorage.clear();location.reload();">Reset Everything</a>
        </div>
    </div>
    </header>
    <hr style="display: block;width:100%;height: 1px;border: 0;border-top: 1px solid #ccc;padding: 0px;">



<!----------------------------------------- Comment-box for guest --------------------------------->

    <div id="new-message" class="new-message">
        <div class="message-box">
            <textarea id="comments" class="input-field" name="comment" onclick="writeAcomment();" placeholder="masukan komentarmu di sini atau share link web..."></textarea>
        </div>
        <div class="submit-button">
            <button onclick="writeAcomment();" style="width: 8rem;margin-top:1em;margin-left:2em;" class="btn" class="button_other">Add a Comment</button>
        </div>
    </div>


<!----------------------------------------- Sample - comment    --------------------------------->
    <div id="comment-boxes">    
            <div id="comment-box-id" class="comment-box-class">
                <div class="photo">
                    <img class="img" src="https://1.bp.blogspot.com/-XW2Toz8561E/X_m3qSI7-qI/AAAAAAAAOP8/--SEUMJs_8YS_ETm808aCSVtanJrFrs4ACLcBGAsYHQ/s0/favicon.ico" alt="photo">
                </div>
            <div class="information">
                <div class="row1">
                    <div class="name"><strong class="comment-name-class" id="fetch-name">Rhythm</strong></div>
                    <div class="time_ago" id="fetch-time">5 min ago</div>
                </div>
                <i class="row2" class="comment-message-class" id="fetch-message">terimakasih sudah berkunjung</i>
                <div class="row3">
                    <div class="reply"><button id="r" class="r" class="reply" style="border:none;" onclick="canuserreply();reply_clicked(this.id);" class="button">Reply</button></div>
                    <div class="vote">
                        <div id="fetch-like">  
                            <i id="a" class="fa fa-thumbs-up like fetch-like-count"  onclick="like(this.id);">0</i>
                        </div>
                        <div id="fetch-dislike">
                            <i id="b" class="fa fa-thumbs-down dislike fetch-dislike-count" onclick="dislike(this.id);">0</i>
                        </div>
                    </div>
                    <div class="posted_ago">1/Jan/1970</div>
                </div>
            </div>
            </div>
    </div>

<!-----------------------------------------  Login-form  --------------------------------->

<div id="modal-wrapper" class="modal">
        <form onsubmit="return false;" class="modal-content animate">
            <div class="imgcontainer">
                <span onclick="document.getElementById('modal-wrapper').style.display='none'" class="close" title="Close PopUp">&times;</span>
                <img class="avatar" src="https://1.bp.blogspot.com/-XW2Toz8561E/X_m3qSI7-qI/AAAAAAAAOP8/--SEUMJs_8YS_ETm808aCSVtanJrFrs4ACLcBGAsYHQ/s0/favicon.ico" alt="Avatar" class="avatar">
                <h2 style="text-align:center">Login</h2>
            </div>
    
            <div class="container">
                <input id="log-usr" autocomplete="off" type="text" placeholder="Enter Username" name="uname" required>
                <input id="log-psw" autocomplete="off" type="password" placeholder="Enter Password" name="psw" required>        
                <button class="button_other" type="submit" onclick="login();">Login</button>
                <button style="margin:2em;" onclick="document.getElementById('modal-wrapper-2').style.display='block';document.getElementById('modal-wrapper').style.display='none'" class="btn">New Signup here</button>         
            </div>
        </form>
    </div>


<!-----------------------------------------  signup-form  --------------------------------->

    
    <div id="modal-wrapper-2" class="modal">
      
        <form onsubmit="return false;" class="modal-content animate">
            <div class="imgcontainer">
                <span onclick="document.getElementById('modal-wrapper-2').style.display='none'" class="close" title="Close PopUp">&times;</span>
                <img src="https://robohash.org/196.png" alt="Avatar" class="avatar">
                <h2 style="text-align:center">Sign Up here</h2>
            </div>
    
            <div class="container">
                <input id="sign-usr" autocomplete="off" type="text" placeholder="Enter Username" name="uname" required>
                <input id="sign-psw" autocomplete="off" type="password" placeholder="Enter Password" name="psw" required>        
                <button class="button_other" onclick="signup();" type="submit">Sign Up</button>
                <button style="margin:2em;" class="btn" type="submit" onclick="document.getElementById('modal-wrapper-2').style.display='none';document.getElementById('modal-wrapper').style.display='block'">Already a member Login</button>
            </div>
        </form>
    </div>

<!----------------------------------------- Something after signup -------------------------->


    <!-------------------------------  message box popup open after login ----------------------------->

    <div id="message-box-popup" class="modal">
            <form onsubmit="return false;" class="modal-content animate"  style="height: 60%;">
                <div class="imgcontainer">
                    <span style="  position: absolute;top: 0px;right: 0px;" onclick="document.getElementById('message-box-popup').style.display='none'" class="close" title="Close PopUp">&times;</span>
                    <h3 class="message-head">Enter your comment here</h3>
                </div>
                <div class="container" style="height: auto;margin-right: auto;margin-left: auto;">
                    <textarea autocomplete="off" id="message-box-comments" class="input-field" name="comment" placeholder="Enter your comment here..." style="width: 85%;height: 30vh;"></textarea>
                    <button onclick="Add_comment();" style="width: 8rem;margin-left:2em;margin-top:1em;" class="btn">Add a comment</button>  
                </div>
            </form>
        </div> 



  </body>
</html>
